(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{3240:function(t,e,n){"use strict";n.r(e);var s=n("58a5"),i=n.n(s);for(var r in s)"default"!==r&&function(t){n.d(e,t,(function(){return s[t]}))}(r);e["default"]=i.a},"3e17":function(t,e,n){"use strict";var s;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return s}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{},[n("v-uni-input",{staticClass:"input",attrs:{type:"number",value:"",placeholder:t.isRegistered?"请输入注册账号":"请输入登录账号"},model:{value:t.userAccount,callback:function(e){t.userAccount=e},expression:"userAccount"}}),n("v-uni-input",{staticClass:"input",attrs:{type:"password",value:"",placeholder:"请输入密码"},model:{value:t.userPassword,callback:function(e){t.userPassword=e},expression:"userPassword"}}),n("v-uni-view",{staticStyle:{display:"flex","justify-content":"center"}},[n("v-uni-image",{staticClass:"login",attrs:{src:t.src},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.fn.apply(void 0,arguments)}}})],1),t.isRegistered?n("v-uni-view",{staticStyle:{"text-align":"center","margin-top":"20px","font-size":"16px"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.isRegistered=!1}}},[t._v("返回登录")]):n("v-uni-view",{staticStyle:{"text-align":"center","margin-top":"20px","font-size":"16px"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.isRegistered=!0}}},[t._v("新用户注册")])],1)},r=[]},"4d52":function(t,e,n){var s=n("24fb");e=s(!1),e.push([t.i,"uni-page-body[data-v-4e14063c]{background-color:#fff}.input[data-v-4e14063c]{width:70%;margin:0 auto;height:40px;padding:5px 5%;-webkit-border-radius:20px;border-radius:20px;background-color:#ededed;margin-top:50px}.login[data-v-4e14063c]{width:80px;height:80px;line-height:80px;margin-top:50px;-webkit-border-radius:50%;border-radius:50%}body.?%PAGE?%[data-v-4e14063c]{background-color:#fff}",""]),t.exports=e},"55a9":function(t,e,n){"use strict";var s=n("68d4"),i=n.n(s);i.a},"58a5":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={name:"login",data:function(){return{userAccount:null,userPassword:null,isRegistered:!1,loginMes:""}},watch:{loginMes:function(t){uni.showToast({title:t,icon:"none",duration:1e3})}},computed:{src:function(){return null!==this.userAccount&&null!==this.userPassword?"../../static/login_btn.png":"../../static/login_btn2.png"}},methods:{login:function(){var t=this;this.userAccount&&this.userPassword&&this.$request("/login",{account:this.userAccount,password:this.userPassword},"post").then((function(e){switch(e){case 0:t.loginMes="登录成功",t.$store.commit("updateLogin"),t.$store.commit("updateUserAccount",t.userAccount),t.$request("/selectuser",{account:t.userAccount},"post").then((function(e){t.$store.commit("updateUser",e[0])})),uni.navigateBack({delta:1});break;case-1:t.loginMes="用户名或密码错误！";break;case 1:t.loginMes="用户名或密码错误！";break}}))},registered:function(){var t=this;this.$request("/registered",{account:this.userAccount,password:this.userPassword},"post").then((function(e){switch(e){case 0:t.loginMes="注册成功",t.login();break;case-1:t.loginMes="用户名已存在";break}}))},fn:function(){null!==this.userAccount&&null!==this.userPassword&&(this.isRegistered?this.registered():this.login())}}};e.default=s},"68d4":function(t,e,n){var s=n("4d52");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=n("4f06").default;i("41e68031",s,!0,{sourceMap:!1,shadowMode:!1})},"9db1":function(t,e,n){"use strict";n.r(e);var s=n("3e17"),i=n("3240");for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("55a9");var o,u=n("f0c5"),a=Object(u["a"])(i["default"],s["b"],s["c"],!1,null,"4e14063c",null,!1,s["a"],o);e["default"]=a.exports}}]);