(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/topic/topic"],{"0599":function(t,e,o){"use strict";var i=o("d06d"),n=o.n(i);n.a},2621:function(t,e,o){"use strict";o.d(e,"b",(function(){return n})),o.d(e,"c",(function(){return c})),o.d(e,"a",(function(){return i}));var i={acticleContent:function(){return Promise.all([o.e("common/vendor"),o.e("components/acticle-content/acticle-content")]).then(o.bind(null,"9ca0"))}},n=function(){var t=this,e=t.$createElement;t._self._c},c=[]},"3e42":function(t,e,o){"use strict";(function(t){o("b09c");i(o("66fd"));var e=i(o("df04"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("543d")["createPage"])},"6f42":function(t,e,o){"use strict";o.r(e);var i=o("ce5f"),n=o.n(i);for(var c in i)"default"!==c&&function(t){o.d(e,t,(function(){return i[t]}))}(c);e["default"]=n.a},ce5f:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(){Promise.all([o.e("common/vendor"),o.e("components/acticleContent")]).then(function(){return resolve(o("1215"))}.bind(null,o)).catch(o.oe)},n={data:function(){return{topicData:[],article:[],articlImg:[],left:0,topicClass:["最新","精华"],touchStartLeft:0,touchmoveLeft:0,recordLeft:0,containerWidth:0,transition:!1,followTxt:"关注"}},components:{acticleContent:i},onLoad:function(e){var o=this;t.showLoading({title:"加载中"}),this.$request("/selectTopic",{id:e.id},"post").then((function(t){if(o.topicData=t,null!==o.$store.state.user){var e=o.$store.state.user.followTopic;!1!==e&&e.indexOf(o.topicData.id+"")>-1&&(o.followTxt="已关注")}})),this.$request("/topicArticle",{topicid:e.id},"post").then((function(t){o.article=t}))},onShow:function(){if(null!==this.$store.state.user){var t=this.$store.state.user.followTopic;!1!==t&&t.indexOf(this.topicData.id+"")>-1&&(this.followTxt="已关注")}},mounted:function(){var e=this,o=t.createSelectorQuery().in(this);o.select(".container").boundingClientRect((function(t){e.containerWidth=t.width})).exec()},watch:{left:function(t){switch(!0){case this.left>0:this.left=0;break;case this.left<-this.containerWidth:this.left=-this.containerWidth;break}}},methods:{followTopic:function(){var e=this;this.$store.state.login?"关注"===this.followTxt&&this.$request("/followTopic",{account:this.$store.state.user.account,id:this.topicData.id},"post").then((function(t){0==t&&(e.followTxt="已关注",e.$request("/topicFollow",{topicid:e.topicData.id},"post").then((function(t){console.log(t)})))})):t.navigateTo({url:"../login/login"})},toArticle:function(e){t.navigateTo({url:"../tiezicontent/tiezicontent?id="+e})},touchstart:function(t){this.transition=!1,this.touchStartLeft=t.touches[0].pageX},touchmove:function(t){this.touchmoveLeft=t.touches[0].pageX-this.touchStartLeft,this.left=this.touchmoveLeft+this.recordLeft},touchend:function(t){this.transition=!0,this.recordLeft=this.recordLeft+this.touchmoveLeft,this.left>.5*-this.containerWidth?(this.left=0,this.recordLeft=0):(this.left=-this.containerWidth,this.recordLeft=-this.containerWidth)}}};e.default=n}).call(this,o("543d")["default"])},d06d:function(t,e,o){},df04:function(t,e,o){"use strict";o.r(e);var i=o("2621"),n=o("6f42");for(var c in n)"default"!==c&&function(t){o.d(e,t,(function(){return n[t]}))}(c);o("0599");var s,r=o("f0c5"),a=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);e["default"]=a.exports}},[["3e42","common/runtime","common/vendor"]]]);